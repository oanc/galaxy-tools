<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <meta name="generator" description="DocFrame 1.1 from Scriptorium Publishing">
      <link rel="stylesheet" type="text/css" href="AWFServer.css">
   </head>
   <body><a href="http://www.active-endpoints.com/"><img src="logo.gif" height="40" width="205" border="0" alt="ActiveBPEL"></a><table style="border-collapse: collapse; border: none;" width="23%">
         <tr>
            <td class="servernav-left"><b>Resources</b></td>
         </tr>
      </table>
      <p class="Booktitle">ActiveBPEL&reg; 
         Embedded Engine 
         User&#8217;s Guide
      </p>
      <div id="left" style="top: 130px;">
         <table cellpadding="0" cellspacing="0">
            <tr>
               <td class="servernav-leftTOC">
                  <table width="175px;" cellpadding="0" cellspacing="0">
                     <tr>
                        <td class="navTableHead"> 
                           Administration Console
                           
                        </td>
                     </tr>
                     <tr>
                        <td class="content"><a href="Help1.html">Getting Started</a><br><a href="Help1-1.html">Home</a><br><a href="Help1-2.html">Engine</a><br><a href="Help1-3.html">Identity Service</a><br><a href="Help1-4.html">Deployment Status</a><br><a href="Help1-5.html">Process Status</a><br><a href="Help1-6.html">Process ID and Process Details</a><br></td>
                     </tr>
                  </table><br><table width="175px;">
                     <tr>
                        <td class="navTableHead">
                           Documentation Set
                           
                        </td>
                     </tr>
                     <tr>
                        <td class="content"><a href="doc/AdministrationConsole.pdf">Administration Console Help (.pdf)</a><br></td>
                     </tr>
                  </table><br><table width="175px;">
                     <tr>
                        <td class="navTableHead">
                           Support
                           
                        </td>
                     </tr>
                     <tr>
                        <td class="content"><a href="http://forums.active-endpoints.com">Active Endpoints Support</a><br></td>
                     </tr>
                  </table><br></td>
            </tr>
         </table>
      </div>
      <div id="main"><a name="CHDEBCJH"></a><h2 class="Title2">Engine</h2>
         <p class="Para">Engine information includes Configuration, Storage, and Version
            Detail.
         </p>
         <p class="Para"></p>
         <p class="Para"><strong class="MenuItem">Configuration</strong></p>
         <p class="Para">The Configuration page is divided into tabs for Engine Properties
            and URN Mappings
         </p>
         <p class="Para"><strong class="Strong">Engine Properties</strong></p>
         <p class="Para">You can make engine property changes without stopping and
            restarting the engine. When you make a change and select <strong class="Strong">Update</strong> the
            changes are in effect immediately as well as persisted to the engine
            configuration file.
         </p>
         <p class="Para">View and update engine configuration settings as shown in
            the following table. Note that some of these properties are the
            same as the ActiveBPEL Designer Simulation preferences.
         </p>
         <table cellpadding="3" cellspacing="0">
            
            
            <tr>
               <th class="TableHeading" valign="top">
                  <p class="Para">Property Name</p>
               </th>
               <th class="TableHeading" valign="top">
                  <p class="Para">Description</p>
               </th>
            </tr>
            
            
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Auto create target path for Copy/To (BPEL 1.1 only)</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Applies only to processes that are validated against
                     the BPEL4WS 1.1 specification. For WS-BPEL 2.0 processes, this property
                     can be added as an extension on a per process basis. Refer to Extensions
                     help topic in <em class="Emphasis">ActiveBPEL Designer Online Help</em>.
                  </p>
                  
                  <p class="Para">Determines if the ActiveBPEL engine is allowed to create a
                     location path for a non-existent node in a complex variable in a
                     process instance document. When an assignment refers to a non-existent
                     node (or to more than one node), the standard BPEL fault, bpws:selectionFailure,
                     must be thrown, according to the BPEL specification.
                  </p>
                  
                  <p class="Para">Enabling this option allows selections to be created on-the-fly.
                     This means an assign copy TO operation can refer to a non-existent
                     node and assign a value to it. This option is disabled by default.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Disable bpws:selectionFailure fault (BPEL 1.1 only)</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Applies only to processes that are validated against
                     the BPEL4WS 1.1 specification. For WS-BPEL 2.0 processes, this property
                     can be added as an extension on a per process basis. Refer to Extensions
                     help topic in <em class="Emphasis">ActiveBPEL Designer Online Help</em>.
                  </p>
                  
                  <p class="Para">Enabling this option allows a null value to be returned from
                     a function or assignment that contains an XPath query string. You
                     can enable this to override XPath behavior, for cases that handle data
                     samples with optional elements.
                  </p>
                  
                  <p class="Para">By default, this option is not enabled, and if the query string
                     returns an empty selection from an assign copy FROM, the process
                     throws a bpws:selectionFailure fault, which is the standard response
                     described in the BPEL4WS specification.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Logging Level</p>
               </td>
               
               <td valign="top">
                  <p class="Para">By default the ActiveBPEL engine does not generate
                     an execution log for running processes. Logging is turned off to
                     enhance engine performance. You can enable this setting, and then
                     view or download an execution log for a running or completed process.
                     An execution log provides start/end times for activity execution
                     and helps you troubleshoot faulted processes. The logging levels
                     are:
                  </p>
                  
                  <ul>
                     <li class="ListItem"><strong class="Strong">None</strong>. (default)
                     </li>
                     
                     <li class="ListItem"><strong class="Strong">Full</strong>. All execution statements are logged, including
                        the <em class="Emphasis">Will Not Execute</em> statements for deadpath
                        activities. For example, all fault handling statements that are
                        not executed are logged.
                     </li>
                     
                     <li class="ListItem"><strong class="Strong">Execution</strong>. All execution statements are logged,
                        except for <em class="Emphasis">Will Not Execute</em> statements. Using
                        this setting can greatly decrease the size of the log file.
                     </li>
                  </ul>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Replace existing resources on deployment</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Overwrites the current WSDL or schema definition,
                     or other resource.
                  </p>
                  
                  <p class="Para">By default, resources are not replaced. However, if you enable
                     this setting, ActiveBPEL allows you to replace a WSDL definition
                     or schema file currently in cache without restarting the server.
                     You can deploy a new version of a BPR file containing updated resources.
                  </p>
                  
                  <p class="Para">BPEL developers who are testing and modifying processes may
                     find this option useful.
                  </p>
                  
                  <p class="Para">Note that you can add this setting to an individual BPR file
                     in the ActiveBPEL Designer Export Wizard. The Deployment Log shows
                     whether or not the resources are being replaced.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Validate input/output messages against schema</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Validates the data loaded into process variables against
                     the WSDL schema.
                  </p>
                  
                  <p class="Para">Enable this option to validate data before execution starts.
                     Disable this option for faster execution. This option is enabled
                     by default.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Resource Cache</p>
               </td>
               
               <td valign="top">
                  <p class="Para">The number of WSDL and other resource files in stored
                     cache. The default is 100. Modifying the cache size may improve
                     engine performance. A value of -1 means unlimited caching, but is
                     not recommended.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Unmatched Correlated Receive Timeout</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the amount of time to wait (in seconds) for
                     a correlated message to be matched to a receive, in the case that
                     the message arrives before the receive becomes active. If this value
                     is exceeded, a message is discarded so that the process can complete
                     normally. The default is 300. Specifying 0 indicates that unmatched
                     correlated messages are immediately discarded.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Web Service Invoke/Reply Timeout</p>
               </td>
               
               <td valign="top">
                  <p class="Para">For performance reasons, a reply activity matching
                     a receive, as well as synchronous invokes, are timed out if they
                     do not execute within 10 minutes. If you are receiving timeout errors,
                     you can specify a greater amount of time to wait before a process
                     is timed out due to a reply or synchronous invoke activity not executing
                     within 10 minutes. 
                  </p>
                  
                  <p class="Para">The default is 600 seconds.</p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Work Manager Thread Pool Min</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the minimum number of execution threads the
                     engine allocates for its Work Manager. The default is 10. 
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Work Manager Thread Pool Max</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the maximum number of execution threads the
                     engine can spawn simultaneously. The default is 50. A value of -1
                     means that there is no maximum number of threads.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Work Manager Threads Per Alarms Max</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the maximum number of threads the engine will
                     use from the work manager to dispatch work scheduled by an alarm
                     in a process. If there are 100's of alarms firing concurrently,
                     it is possible that all of the threads in the work manager could be
                     used just to dispatch the alarms. If you experience performance
                     issues or deadlocks due to all of the threads being used by the
                     alarm manager, you can increase this value. The default is 5.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Work Manager Threads Per Process Max</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the maximum number of execution threads the
                     engine can spawn simultaneously for an individual process. The default
                     is 10.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Retention Days for Closed Tasks</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Set the number of days to keep closed tasks in users&#8217;
                     Inboxes for a BPEL for People task. This setting does not affect
                     the BPEL process storage settings.
                  </p>
               </td>
               
            </tr>
            
            
         </table>
         <p class="Para"></p>
         <p class="Para"><strong class="Strong">URN Mappings</strong></p>
         <p class="Para">URN mappings provide a flexible and dynamic way to define
            target endpoint references. Use URN mappings to specify the physical
            address of a partner link endpoint reference in the Administration
            Console instead of specifying an address in a process deployment
            descriptor (.pdd) file or WSDL file. By mapping an URN to an URL,
            you do not have to rely on invoking a statically defined endpoint address.
            URN mappings give you flexibility, for example, to deploy the same
            BPR files for testing and production environments.
         </p>
         <p class="Para">Instead of using the default invocation, you can specify a
            logical or physical address for a static endpoint reference in the
            .pdd. If you specify a logical address, or URN, you can then map
            the URN to the physical address in the URN Mappings page of the
            Administration Console. If you specify an URL, you can replace the URL
            by mapping it to a different URL.
         </p>
         <p class="Para">The following example illustrates one type of URN to URL mapping:</p><pre class="Code">urn:localhost = http://localhost:8080/active-bpel/services/${urn.3}</pre><p class="Para">This mapping might be used when a process is deployed with
            the following partner link address information:
         </p><pre class="Code">&lt;partnerLink name="assessor"&gt;</pre><pre class="Code">   &lt;partnerRole endpointReference="static"</pre><pre class="Code">     invokeHandler="default:Address"&gt;</pre><pre class="Code">      &lt;wsa:EndpointReference xmlns:assessor="http://</pre><pre class="Code">       tempuri.org/services/loanassessor"&gt;</pre><pre class="Code">      <strong class="Strong">&lt;wsa:Address&gt;urn:localhost:AssessRisk&lt;/wsa:Address&gt;</strong></pre><pre class="Code">      &lt;wsa:ServiceName PortName=</pre><pre class="Code">        "SOAPPort"&gt;assessor:LoanAssessor&lt;/wsa:ServiceName&gt;</pre><pre class="Code">   &lt;/partnerRole&gt;</pre><pre class="Code">&lt;/partnerLink&gt;</pre><p class="Para">The ActiveBPEL invocation framework resolves the URN as follows: </p>
         <p class="Para">urn:localhost:AssessRisk = http://localhost:8080/active-bpel/services/AssessRisk</p>
         <p class="Para">Here are some ways you can map URNs to URLs. Note that each
            segment of the URN is separated by a colon. This means you can use
            a variable, such as ${urn.4} shown in the third example below, to
            indicate a replacable token in the fourth segment.
         </p>
         <p class="Para"></p>
         <table cellpadding="3" cellspacing="0">
            
            
            <tr>
               <th class="TableHeading" valign="top">
                  <p class="Para">URN</p>
               </th>
               <th class="TableHeading" valign="top">
                  <p class="Para">URL</p>
               </th>
            </tr>
            
            
            
            <tr>
               
               <td valign="top">
                  <p class="Para">urnSegment1:urnSegment2</p>
               </td>
               
               <td valign="top">
                  <p class="Para">http://localhost:8080/active-bpel/services/MyService</p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">http://ServerA:8080/active-bpel/services/MyService</p>
               </td>
               
               <td valign="top">
                  <p class="Para">http://ServerB:8081/active-bpel/services/MyService</p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">urn:localhost:service</p>
               </td>
               
               <td valign="top">
                  <p class="Para">http://localhost:${AE-NODE1-PORT}/activebpel/services/${urn.4} </p>
               </td>
               
            </tr>
            
            
         </table>
         <p class="Para">The last example in the table above shows how you can use
            variable substitution in an URL.
         </p>
         <p class="Para">The URL values can optionally contain variables. The variables
            can be environment variables accessible through java.lang.System.getProperties()
            or a segment from the URN itself. The Apache Ant style variable
            declaration of <code class="UserInput">${property}</code> is used to identify
            a property within the URL. Segments from the input URN value can
            be referenced by using a special property naming convention of <code class="UserInput">${urn.offset}</code> where <em class="Emphasis">offset</em> is
            a one-based offset identifying the segment from the input URN value
            to use for substitution.
         </p>
         <p class="Para">The URL in the mapping above contains two variables. The <code class="UserInput">${AE-NODE1-PORT}</code> variable
            pulls the port number from an environment variable. This variable would
            need to be set as a -D parameter on the Java runtime environment
            (e.g., <code class="UserInput">java -D ${AE-NODE1-PORT}=8080 ...</code>)
            or populated externally to the ActiveBPEL server.
         </p>
         <p class="Para">The <code class="UserInput">${urn.4}</code> variable in the above
            mapping references the fourth segment from the input URN value.
            Notice that the URN contains only three segments. The URN in the
            .pdd file should contain at least one other segment. A sample URN might
            be:
         </p>
         <p class="Para"><code class="UserInput">urn:localhost:service:StoreService</code>. 
         </p>
         <p class="Para">The value of the fourth segment of this URN is <code class="UserInput">StoreService</code>.
            The resulting URL is:
         </p>
         <p class="Para"><code class="UserInput">http://localhost:8080/activebpel/services/StoreService/</code>.
         </p>
         <p class="Para">To update an URN mapping, select the URN. The URN and URL
            values appear in the text boxes where you can edit them and select <strong class="Strong">Update</strong>.
            Editing the URN results in a new URN mapping, it does not update
            the existing one. Only the URL can be updated.
         </p>
         <p class="Para">To delete a mapping, select the check box next to the mapping
            and select <strong class="Strong">Delete</strong>. 
         </p>
         <p class="Para"><strong class="MenuItem">Storage</strong></p>
         <p class="Para">By default the ActiveBPEL engine is not configured for persistent
            storage. If you set up database storage, you can view storage configuration
            settings as well as delete old processes that are stored. The engine
            supports both relational databases and XML databases.
         </p>
         <p class="Para">See <span class="CrossRef"><a href="Help1-12.html">Persistence Storage Setup</a></span>.
         </p>
         <p class="Para">For relational databases, the following storage configuration
            settings are displayed.
         </p>
         <table cellpadding="3" cellspacing="0">
            
            
            <tr>
               
               <td valign="top">
                  <p class="Para">JNDI</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Java Naming and Directory Interface (JNDI) context
                     that specifies where to look for the database. For example, jdbc/ActiveBPEL
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Database Type</p>
               </td>
               
               <td valign="top">
                  <p class="Para">The type such as <code class="UserInput">mysql</code></p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">User Name</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Username and password, if they are required for
                     database access
                  </p>
               </td>
               
            </tr>
            
            
         </table>
         <p class="Para">For XML databases, the following configuration settings are
            displayed.
         </p>
         <table cellpadding="3" cellspacing="0">
            
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Database Type</p>
               </td>
               
               <td valign="top">
                  <p class="Para">The type such as <code class="UserInput">tamino</code></p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Tamino URL</p>
               </td>
               
               <td valign="top">
                  <p class="Para">The path to the tamino database</p>
                  
                  <p class="Para"><code class="UserInput">http://host/tamino</code></p>
                  
                  <p class="Para">where <code class="UserInput">host</code> is the name of the computer
                     on which the Tamino Server resides. You can specify <code class="UserInput">localhost</code> for
                     your local computer, or a path such as <em class="Emphasis">yourpc.ourcompany.com</em> for
                     a remote computer.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Database Name</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Name provided in the ActiveBPEL persistence setup
                     file
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Collection</p>
               </td>
               
               <td valign="top">
                  <p class="Para">For tamino databases, this is the name that matches
                     the collection name specified in the database schema file (.tsd
                     file). If the collection name was modified in the ActiveBPEL persistence
                     setup file, it must also be modified in the schema file that ActiveBPEL
                     provides for database set up.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Connection Pool Size</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Number of simultaneous connections allowed to the
                     database. The default size is 30.
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Domain</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Network domain for host computer</p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Username</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Username if required for ActiveBPEL&#8217;s access to
                     the database
                  </p>
               </td>
               
            </tr>
            
            <tr>
               
               <td valign="top">
                  <p class="Para">Password</p>
               </td>
               
               <td valign="top">
                  <p class="Para">Password associated with the Username</p>
               </td>
               
            </tr>
            
            
         </table>
         <p class="Para"></p>
         <p class="Para">You can delete completed processes stored in the database.
            Select a <strong class="Strong">Completed By</strong> date and select <strong class="Strong">Delete</strong>.
         </p>
         <p class="Para"></p>
         <p class="Para"><strong class="MenuItem">Version Detail</strong></p>
         <p class="Para">The Version Detail page shows the build number and date of
            the ActiveBPEL engine libraries. This information may be useful
            for troubleshooting purposes.
         </p>
         <p class="Para">Back to <span class="CrossRef"><a href="Help1.html">ActiveBPEL&reg; Engine Administration Console Help</a></span></p>
         <p class="Para"></p>
         <hr color="#9999cc" size="1">
         <p class="Copyright">Copyright (c) 2004-2008 Active Endpoints, Inc. </p>
      </div>
   </body>
</html>